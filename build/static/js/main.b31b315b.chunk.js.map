{"version":3,"sources":["app/header/header.js","app/body/search/search.js","app/body/result/result.js","app/body/body.js","app/footer/footer.js","app/error/error.js","app/help/help.js","app/app.js","index.js"],"names":["Header","props","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","react_default","a","createElement","className","onClick","showHelp","Component","Search","_this","state","search_type_array","library_array","keyword","search_type","checked_library","getSearchTypeList","bind","assertThisInitialized","getLibraryList","onTextChangeHandler","onRadioHandler","onCheckHandler","onButtonClickHandler","length","_this2","request","get","retry","timeout","end","err","res","Error","setState","body","result","_this3","e","target","value","checkbox_value","library_index","indexOf","push","sort","splice","crawlLibrary","_this4","search_type_ele_array","map","obj","idx","radio_label","type","radio_value","key","radio_id","concat","is_checked","id","name","checked","onChange","htmlFor","library_ele_array","checkbox_id","checkbox_label","name_en","includes","is_disabled","is_crawling","button_loading_ele","timeout_message_ele","is_timeout","autoComplete","disabled","Result","crawl_result_count","crawl_result_array","search_result_ele_array","library","href","link","title","artist","Body","checked_library_count","forEach","library_key","query_obj","query","search_option","search_Search","result_Result","Footer","ErrorBoundary","error","info","children","Help","show_help","hideHelp","App","react","header_Header","error_ErrorBoundary","body_Body","footer_Footer","help_Help","ReactDOM","render","app_App","document","getElementById"],"mappings":"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","file":"static/js/main.b31b315b.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\n\r\nexport default class Header extends Component{\r\n  constructor(props){\r\n    super(props);\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <header>\r\n        <div>Tokyo Library Audio Crawler</div>\r\n        <div className=\"show-help\" onClick={this.props.showHelp}>HELP</div>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\n\r\nimport request from 'superagent';\r\n\r\n\r\n/**\r\n *  Search - A component that lists the search options, keyword field, and the search button.\r\n *  Parent Components - \"Body\"\r\n *\r\n *  @state {Object[]}   search_type_array  - array of search_type objects\r\n *         {Object[]}   library_array      - array of library objects\r\n *         {String}     keyword            - search keyword\r\n *         {String}     search_type        - search type(represented by a value)\r\n *         {String[]}   checked_library    - array of libraries to search(each represented by a value)\r\n *\r\n *  @props {Function} crawlLibrary    - Function used to crawl the library\r\n *         {Boolean}  is_crawling     - Boolean value that represents the current state of the web crawling.\r\n *\r\n */\r\nexport default class Search extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      search_type_array: [],\r\n      library_array:     [],\r\n      keyword:           '',\r\n      search_type:       '0',\r\n      checked_library:   []\r\n    };\r\n\r\n    this.getSearchTypeList    = this.getSearchTypeList.bind(this);\r\n    this.getLibraryList       = this.getLibraryList.bind(this);\r\n    this.onTextChangeHandler  = this.onTextChangeHandler.bind(this);\r\n    this.onRadioHandler       = this.onRadioHandler.bind(this);\r\n    this.onCheckHandler       = this.onCheckHandler.bind(this);\r\n    this.onButtonClickHandler = this.onButtonClickHandler.bind(this);\r\n  }\r\n\r\n\r\n  // Set search_type_array and library_array values before mounting.\r\n  // Only send request if either data is empty\r\n  componentWillMount(){\r\n    if(this.state.search_type_array.length === 0) this.getSearchTypeList();\r\n    if(this.state.library_array.length === 0) this.getLibraryList();\r\n  }\r\n\r\n\r\n  /**\r\n   * getSearchTypeList - sends GET request to retrieve an array of search types.\r\n   *\r\n   * @return {Object[]} - array of search_type Objects.\r\n   */\r\n  getSearchTypeList(){\r\n    request\r\n      .get('/rest/search_type')\r\n      .retry(0)\r\n      .timeout(60000)\r\n      .end((err, res) => {\r\n        if(err){\r\n          throw new Error('Failed to acquire search_type data!');\r\n          return\r\n        }\r\n        this.setState({search_type_array: res.body.result});\r\n      });\r\n  }\r\n\r\n\r\n  /**\r\n   * getLibraryList - sends GET request to retrieve an array of libraries.\r\n   *\r\n   * @return {Object[]} - array of library objects.\r\n   */\r\n  getLibraryList(){\r\n    request\r\n      .get('/rest/library')\r\n      .retry(0)\r\n      .timeout(60000)\r\n      .end((err, res) => {\r\n        if(err){\r\n          throw new Error('Failed to acquire library data!');\r\n          return\r\n        }\r\n        this.setState({library_array: res.body.result});\r\n      });\r\n  }\r\n\r\n\r\n  /**\r\n   * onTextChangeHandler - Sets the \"keyword\" state to the value in the keyword field\r\n   *\r\n   * @param  {Event Object} e - event object; in this case, the keyword input field\r\n   * @return -\r\n   */\r\n  onTextChangeHandler(e){\r\n    this.setState({keyword: e.target.value});\r\n  }\r\n\r\n\r\n  /**\r\n   * onRadioHandler - Sets the \"search_type\" state to the value of the radio box\r\n   *\r\n   * @param  {Event object} e - event object; in this case, the radio box\r\n   * @return -\r\n   */\r\n  onRadioHandler(e){\r\n    this.setState({search_type: e.target.value});\r\n  }\r\n\r\n\r\n  /**\r\n   * onCheckHandler - Adds the checked library key to the \"checked_library\" state\r\n   *                  Removes the value if already checked\r\n   *\r\n   * @param  {Event Object} e - event object; in this case, the checkbox\r\n   * @return -\r\n   */\r\n  onCheckHandler(e){\r\n    const checkbox_value = e.target.value;\r\n    let checked_library = this.state.checked_library;\r\n    const library_index = checked_library.indexOf(checkbox_value);\r\n\r\n    if (library_index === -1){\r\n      checked_library.push(checkbox_value);\r\n      checked_library.sort();\r\n    } else {\r\n      checked_library.splice(library_index, 1);\r\n    }\r\n\r\n    this.setState({checked_library: checked_library});\r\n  }\r\n\r\n\r\n  /**\r\n   * onButtonClickHandler - Starts the search\r\n   *\r\n   * @param  {Event Object} e - event object; in this case, the search button.\r\n   * @return -\r\n   */\r\n  onButtonClickHandler(){\r\n    this.props.crawlLibrary(this.state.keyword, this.state.search_type, this.state.checked_library);\r\n  }\r\n\r\n\r\n  render(){\r\n\r\n    // Array of search type element\r\n    const search_type_ele_array = this.state.search_type_array.map((obj, idx) => {\r\n      const radio_label = obj.type;\r\n      const radio_value = obj.key;\r\n      const radio_id = `id_radio_${obj.key}`;\r\n      const is_checked = this.state.search_type == obj.key;\r\n\r\n      return (\r\n        <span key={idx}>\r\n          <input id={radio_id} type=\"radio\" name=\"type\" value={radio_value} checked={is_checked} onChange={this.onRadioHandler}/>\r\n          <label className=\"radio-label\" htmlFor={radio_id}>{radio_label}</label>\r\n        </span>\r\n      );\r\n    });\r\n\r\n    // Array of library element\r\n    const library_ele_array = this.state.library_array.map((obj, idx) => {\r\n      const checkbox_value = obj.key;\r\n      const checkbox_id = `id_check_${obj.key}`;\r\n      const checkbox_label = obj.name_en;\r\n      const is_checked = this.state.checked_library.includes(checkbox_value);\r\n\r\n      return (\r\n        <span key={idx}>\r\n          <input id={checkbox_id} type=\"checkbox\" name=\"library\" value={checkbox_value} checked={is_checked} onChange={this.onCheckHandler}/>\r\n          <label className=\"checkbox-label\" htmlFor={checkbox_id}>{checkbox_label}</label>\r\n        </span>\r\n      );\r\n    });\r\n\r\n    // disables search button when the application is in the middle of web crawling or there are no keywords or no libraries have been checked.\r\n    const is_disabled = this.props.is_crawling || this.state.keyword.length === 0 || this.state.checked_library.length === 0;\r\n\r\n    // Show loading spinning icon when application is crawling\r\n    let button_loading_ele = null;\r\n    if(this.props.is_crawling) button_loading_ele = <div className=\"loading_symbol\"></div>;\r\n\r\n    let timeout_message_ele = null;\r\n    if(this.props.is_timeout) timeout_message_ele = <aside className=\"timeout-container\">One or more library search(es) has timed out(5min). Please use a more specific keyword for an efficient search.</aside>;\r\n\r\n    return (\r\n      <div className=\"hero-image\">\r\n        <div className=\"search-container\">\r\n\r\n          <div className=\"input-container\">\r\n            <h1 className=\"input-title\">Search for keyword:</h1>\r\n            <input className=\"keyword-input-field\" type=\"text\" autoComplete=\"off\" onChange={this.onTextChangeHandler}/>\r\n          </div>\r\n\r\n          <div className=\"input-container\">\r\n            <h2 className=\"input-title\">Search with keyword as:</h2>\r\n            {search_type_ele_array}\r\n          </div>\r\n\r\n          <div className=\"input-container\">\r\n            <h2 className=\"input-title\">Search libraries in the following wards:</h2>\r\n            {library_ele_array}\r\n          </div>\r\n\r\n          <button className=\"search-button\" disabled={is_disabled} onClick={this.onButtonClickHandler}>SEARCH{button_loading_ele}</button>\r\n\r\n          {timeout_message_ele}\r\n\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\n\r\n\r\n/**\r\n * Result - Component that lists all the result acquired from the search as a table. Shows a \"no result\" message when there are 0 results.\r\n * Parent Components - \"Body\"\r\n *\r\n *  @state -\r\n *\r\n *  @props {Object[]} crawl_result_array - An array of the result of the search.\r\n */\r\nexport default class Result extends Component{\r\n  constructor(props){\r\n    super(props);\r\n  }\r\n\r\n  render(){\r\n\r\n    // Number of results\r\n    const crawl_result_count = this.props.crawl_result_array.length;\r\n\r\n    // Creates an array of each row in the table using the search result.\r\n    const search_result_ele_array = this.props.crawl_result_array.map((result, idx) => {\r\n      return (\r\n        <tr key={idx}>\r\n          <td>{result.library}</td>\r\n          <td><a href={result.link} target=\"_blank\">{result.title}</a></td>\r\n          <td>{result.artist}</td>\r\n        </tr>\r\n      );\r\n    });\r\n\r\n\r\n    // Show \"no result\" message if there are no results\r\n    // Show result table if there are more than 1 result(s)\r\n    if (crawl_result_count === 0){\r\n\r\n      return (\r\n        <div className=\"result-table-container\">\r\n          <div className=\"no-result-container\">\r\n            <h1>Your search returned 0 results</h1>\r\n            <h2>...or maybe you just haven't searched yet</h2>\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n    } else {\r\n\r\n      return (\r\n        <div className=\"result-table-container\">\r\n          <h1>Found: {crawl_result_count} result(s)</h1>\r\n          <table className=\"result-table\">\r\n            <thead>\r\n              <th>Library</th>\r\n              <th>Title</th>\r\n              <th>Artist</th>\r\n            </thead>\r\n            <tbody>\r\n              {search_result_ele_array}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      );\r\n\r\n    }\r\n\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\n\r\nimport request from 'superagent';\r\n\r\nimport Search from './search/search';\r\nimport Result from './result/result';\r\n\r\n\r\n/**\r\n * Body - A component containing the \"Search\" and \"Result\" Component.\r\n * @Parent Component - \"App\"\r\n *\r\n * @state {Object[]} crawl_result_array - array of search result object\r\n *        {Boolean}  is_crawling        - Boolean value that represents the current state of the web crawling\r\n *\r\n * @props -\r\n */\r\nexport default class Body extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      crawl_result_array: [],\r\n      is_crawling: false,\r\n      is_timeout: false\r\n    };\r\n    this.crawlLibrary = this.crawlLibrary.bind(this);\r\n  }\r\n\r\n  /**\r\n   * crawlLibrary - Sends request to server to scrape the web and receives the results. Then sets the result as the crawl_result_array state.\r\n   *\r\n   * @param  {String}   keyword         keyword used to search with\r\n   * @param  {String}   search_type     value that represents the search_type(title/artist)\r\n   * @param  {String[]} checked_library array of values that represents the library in which to search in\r\n   * @return -          no return value\r\n   */\r\n  crawlLibrary(keyword, search_type, checked_library){\r\n    // empty the array before crawling\r\n    this.setState({\r\n      crawl_result_array: [],\r\n      is_crawling: true,\r\n      is_timeout: false\r\n    });\r\n\r\n    let checked_library_count = 0;\r\n\r\n    checked_library.forEach((library_key) => {\r\n      // query object to send with request\r\n      const query_obj = {\r\n        keyword,\r\n        search_type,\r\n        library_key\r\n      };\r\n\r\n      request\r\n        .get('/rest/crawl')\r\n        .query({search_option: query_obj})\r\n        .retry(0)\r\n        .timeout(300000)\r\n        .end((err, res) => {\r\n          if(err){\r\n            this.setState({is_timeout: true});\r\n            if(++checked_library_count === checked_library.length) this.setState({is_crawling: false});\r\n            return\r\n          }\r\n          this.setState({crawl_result_array: this.state.crawl_result_array.concat(res.body.result)});\r\n          if(++checked_library_count === checked_library.length) this.setState({is_crawling: false});\r\n        });\r\n      });\r\n    }\r\n\r\n  render(){\r\n    return (\r\n      <main>\r\n        <Search crawlLibrary={this.crawlLibrary} is_crawling={this.state.is_crawling} is_timeout={this.state.is_timeout}/>\r\n        <Result crawl_result_array={this.state.crawl_result_array}/>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\n\r\nexport default class Footer extends Component{\r\n  constructor(props){\r\n    super(props);\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <footer>FOOTER</footer>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\n\r\nexport default class ErrorBoundary extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      error: false,\r\n      info: null\r\n    };\r\n  }\r\n\r\n  componentDidCatch(error, info){\r\n    this.setState({error: true, info: info});\r\n  }\r\n\r\n  render(){\r\n    if(this.state.error){\r\n      return (\r\n        <div className=\"error-container\">\r\n          <h1>There seems to have been an error in the application.</h1>\r\n          <h1>Please Refresh the page and try again. If the problem persists, contact me :)</h1>\r\n        </div>\r\n      );\r\n    } else {\r\n      return this.props.children;\r\n    }\r\n  }\r\n}\r\n","import React, {Component, Fragment} from 'react';\r\n\r\n\r\nexport default class Help extends Component{\r\n  constructor(props){\r\n    super(props);\r\n  }\r\n\r\n  render(){\r\n    if(this.props.show_help){\r\n      return (\r\n        <div className=\"help-overlay\">\r\n          <div className=\"help-container\">\r\n            <div className=\"close-help\" onClick={this.props.hideHelp}>CLOSE</div>\r\n            <div className=\"help-content\">\r\n              <div className=\"help-main-title\">HELP</div>\r\n              <div className=\"help-section-container\">\r\n                <div className=\"help-section-title\">What even is this?</div>\r\n                <div className=\"help-section-text\">This is a web application that searches libraries in Tokyo for audio media(CD).</div>\r\n              </div>\r\n              <div className=\"help-section-container\">\r\n                <div className=\"help-section-title\">How do I use this?</div>\r\n                <div className=\"help-section-text\">\r\n                  <ol>\r\n                    <li>Input keyword that you want to search with.</li>\r\n                    <li>Input whether you want to search the keyword as the title or the aritst.</li>\r\n                    <li>Check which wards you want to search in.</li>\r\n                    <li>Click the Search button and wait.</li>\r\n                    <li>???</li>\r\n                    <li>PROFIT!</li>\r\n                  </ol>\r\n                </div>\r\n              </div>\r\n              <div className=\"help-section-container\">\r\n                <div className=\"help-section-title\">Warnings</div>\r\n                <div className=\"help-section-text\">\r\n                  <ul>\r\n                    <li>Out of the 23 wards in Tokyo, only the 7 listed on this page were compatible with the tool used to search.</li>\r\n                    <li>Only a single instance can be run at a time; in other words, if another user is in the middle of his/her search, you will have to wait for his/her search to end before you can start your own.</li>\r\n                    <li>Each library gets 5 minutes before it times out.</li>\r\n                    <li>This website is designed only for PC.</li>\r\n                    <li>This website is designed to be used by chrome, firefox, safari, and edge(NOT INTERNET EXPLORER).</li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              <div className=\"help-section-container\">\r\n                <div className=\"help-section-title\">What did you use to make this?</div>\r\n                <div className=\"help-section-text\">The front-end is made with React.js and the back-end is made with node.js(express).</div>\r\n              </div>\r\n              <div className=\"help-section-container\">\r\n                <div className=\"help-section-title\">How long did this take to make?</div>\r\n                <div className=\"help-section-text\">About a week? If you want to see the process, check out <a href=\"https://github.com/verhichi/tokyo-library-crawler\">my github page</a>.</div>\r\n              </div>\r\n              <div className=\"help-section-container\">\r\n                <div className=\"help-section-title\">Why did you make this?</div>\r\n                <div className=\"help-section-text\">I was personally asked by a friend if I could somehow facilitate his library expeditions to find audio media. So I made this for him.</div>\r\n              </div>\r\n              <div className=\"help-section-container\">\r\n                <div className=\"help-section-title\">Any last words?</div>\r\n                <div className=\"help-section-text\">I understand that there is a lot of room for improvement(and features that need to be fixed) but because this is just a personal project that I made for fun, I'm not gonna take my time to fix it(unless requested by my friend). So if there is a problem...just deal with it.</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n","import React, {Component, Fragment} from 'react';\r\n\r\nimport Header from './header/header';\r\nimport Body from './body/body';\r\nimport Footer from './footer/footer';\r\nimport ErrorBoundary from './error/error';\r\nimport Help from './help/help';\r\n\r\nexport default class App extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      show_help: false\r\n    };\r\n    this.showHelp = this.showHelp.bind(this);\r\n    this.hideHelp = this.hideHelp.bind(this);\r\n  }\r\n\r\n  showHelp(){\r\n    this.setState({show_help: true});\r\n  }\r\n\r\n  hideHelp(){\r\n    this.setState({show_help: false});\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <Fragment>\r\n        <Header showHelp={this.showHelp}/>\r\n        <ErrorBoundary>\r\n          <Body/>\r\n        </ErrorBoundary>\r\n        <Footer/>\r\n        <Help show_help={this.state.show_help} hideHelp={this.hideHelp}/>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './app/app';\r\n\r\nimport './normalize.css';\r\nimport './style.min.css';\r\n\r\nReactDOM.render(\r\n     <App/>\r\n    ,document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}